<h2>
<a id="create-a-pre-receive-hook" class="anchor" href="#create-a-pre-receive-hook" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Create a pre-receive hook</h2>
<pre><code>POST /admin/pre-receive-hooks
</code></pre>
<h3>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td>
<strong>Required</strong>. The name of the hook.</td>
</tr>
<tr>
<td><code>script</code></td>
<td><code>string</code></td>
<td>
<strong>Required</strong>. The script that the hook runs.</td>
</tr>
<tr>
<td><code>script_repository</code></td>
<td><code>object</code></td>
<td>
<strong>Required</strong>. The GitHub repository where the script is kept.</td>
</tr>
<tr>
<td><code>environment</code></td>
<td><code>object</code></td>
<td>
<strong>Required</strong>. The pre-receive environment where the script is executed.</td>
</tr>
<tr>
<td><code>enforcement</code></td>
<td><code>string</code></td>
<td>The state of enforcement for this hook. default: <code>disabled</code>
</td>
</tr>
<tr>
<td><code>allow_downstream_configuration</code></td>
<td><code>boolean</code></td>
<td>Whether enforcement can be overridden at the org or repo level. default: <code>false</code>
</td>
</tr>
</tbody>
</table>
<pre class="highlight highlight-json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Check Commits&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scripts/commit_check.sh&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;enforcement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;allow_downstream_configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;script_repository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">&quot;full_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DevIT/hooks&quot;</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">&quot;environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3>
<a id="response" class="anchor" href="#response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Response</h3>
<pre class="highlight highlight-headers"><code>Status: 201 Created
</code></pre>
<pre class="highlight highlight-json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Check Commits&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;enforcement&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;script&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scripts/commmit_check.sh&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nt">&quot;script_repository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">595</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;full_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DevIT/hooks&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.example.com/api/v3/repos/DevIT/hooks&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;html_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.example.com/DevIT/hooks&quot;</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">&quot;environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DevTools Hook Env&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://my_file_server/path/to/devtools_env.tar.gz&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.example.com/api/v3/admin/pre-receive-environments/2&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;html_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.example.com/admin/pre-receive-environments/2&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;default_environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-05-20T11:35:45-05:00&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;hooks_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">&quot;download&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://github.example.com/api/v3/admin/pre-receive-environments/2/downloads/latest&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nt">&quot;downloaded_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-05-26T07:42:53-05:00&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">&quot;allow_downstream_configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>